@* @page "/account/register" *@
@* @using Microsoft.AspNetCore.Identity *@
@* @using PharmacyDataBase.Models *@
@* @inject UserManager<IdentityUser> UserManager *@
@* @inject SignInManager<IdentityUser> SignInManager *@
@* @inject NavigationManager Navigation *@
@* *@
@* <h3>Register</h3> *@
@* *@
@* <EditForm Model="registerModel" OnValidSubmit="HandleRegister"> *@
@*     <DataAnnotationsValidator /> *@
@*     <ValidationSummary /> *@
@* *@
@*     <div> *@
@*         <label>Email</label> *@
@*         <InputText @bind-Value="registerModel.Email" /> *@
@*     </div> *@
@*     <div> *@
@*         <label>Password</label> *@
@*         <InputText @bind-Value="registerModel.Password" type="password" /> *@
@*     </div> *@
@*     <button type="submit">Register</button> *@
@* </EditForm> *@
@* *@
@* @code { *@
@*     private RegisterModel registerModel = new RegisterModel(); *@
@* *@
@*     private async Task HandleRegister() *@
@*     { *@
@*         var user = new IdentityUser { UserName = registerModel.Email, Email = registerModel.Email }; *@
@*         var result = await UserManager.CreateAsync(user, registerModel.Password); *@
@* *@
@*         if (result.Succeeded) *@
@*         { *@
@*             await SignInManager.SignInAsync(user, isPersistent: false); *@
@*             Navigation.NavigateTo("/"); *@
@*         } *@
@*         else *@
@*         { *@
@*             // Handle registration failure *@
@*         } *@
@*     } *@
@* } *@